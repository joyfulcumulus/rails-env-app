<div data-controller="add-reward" class="px-5 py-3">
  <h1 class="mb-4">Edit Challenge ID <%= @challenge.id %></h1>
  <%= simple_form_for [:admin, @challenge] do |f| %>
    <h2>Challenge Information</h2>
    <%= f.input :name, label: 'Name of Challenge' %>
    <%= f.input :description, label: 'Description of Challenge', as: :text %>
    <%= f.input :start_date, label: 'Start Date', as: :string, input_html: { data: { controller: "datetimepicker" } } %>
    <%= f.input :end_date, label: 'End Date', as: :string, input_html: { data: { controller: "datetimepicker" } } %>
    <%= f.input :participant_criteria, label: 'Participation Criteria' %>
    <%= f.input :metric_name, label: 'Metric Name' %>
    <%= f.input :metric_objective, collection: ['maximize', 'minimize'], label: 'Metric Objective' %>
    <%= f.input :metric_unit, label: 'Metric Unit' %>
    <%= f.input :cover, label: 'Cover Image', as: :file %>
    <%= f.submit "Save", class: 'btn-pri-admin-blue' %>
    <%= link_to "Back", admin_challenges_path, class: "btn-sec-admin-blue" %>
  <% end %>
  <br>
  <hr>
  <br>
  <div class="d-flex justify-content-between align-items-start mb-2" >
    <h2>Edit Rewards Programme</h2>
    <button data-action="click->add-reward#displayForm" class="btn-pri-admin-blue">+ New Reward</button>
  </div>

  <div data-add-reward-target="rewardsList">
    <% @rewards_programmes.each do |reward| %>
      <%= render "editreward_form", reward: reward, challenge: @challenge %>
    <% end %>
  </div>

  <%= render "addreward_form", reward_new: @reward_new, challenge: @challenge %>

</div>
